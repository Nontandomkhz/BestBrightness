**AfriXchange Marketplace - Comprehensive Specification**

---

### ğŸŒ¿ Overview

**AfriXchange** is a B2B digital marketplace designed to connect South Africa's agricultural communityâ€”including farmers, retail stores, cooperatives, independent businesses, and bulk buyersâ€”through innovative technology and sustainable trade practices. It enables verified users to list, browse, negotiate, and transact on a secure and efficient platform that supports growth and market access for all agricultural stakeholders.

---

### ğŸ“ File Structure (Frontend)

```plaintext
AfriXchange/
â”œâ”€â”€ public/
â”‚   â””â”€â”€ index.html
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ assets/                        # Static assets
â”‚   â”œâ”€â”€ components/                    # Reusable components
â”‚   â”‚   â”œâ”€â”€ Layout/                    # Navbar, Footer, Sidebar
â”‚   â”‚   â”œâ”€â”€ ProductCard.jsx
â”‚   â”‚   â”œâ”€â”€ BusinessProfileCard.jsx
â”‚   â”‚   â”œâ”€â”€ CategoryFilter.jsx
â”‚   â”‚   â”œâ”€â”€ BidDialog.jsx
â”‚   â”‚   â””â”€â”€ WalletSummary.jsx
â”‚   â”œâ”€â”€ features/                      # Business logic grouped by domain
â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”‚   â”œâ”€â”€ authSlice.js
â”‚   â”‚   â”‚   â”œâ”€â”€ LoginForm.jsx
â”‚   â”‚   â”‚   â””â”€â”€ RegisterForm.jsx
â”‚   â”‚   â”œâ”€â”€ users/
â”‚   â”‚   â”‚   â”œâ”€â”€ userSlice.js
â”‚   â”‚   â”‚   â”œâ”€â”€ AdminUsersPanel.jsx
â”‚   â”‚   â”‚   â””â”€â”€ UserProfileForm.jsx
â”‚   â”‚   â”œâ”€â”€ products/
â”‚   â”‚   â”‚   â”œâ”€â”€ productSlice.js
â”‚   â”‚   â”‚   â”œâ”€â”€ ProductForm.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ProductList.jsx
â”‚   â”‚   â”‚   â””â”€â”€ ProductDetail.jsx
â”‚   â”‚   â”œâ”€â”€ ongoing/
â”‚   â”‚   â”‚   â”œâ”€â”€ ongoingSlice.js
â”‚   â”‚   â”‚   â”œâ”€â”€ OngoingForm.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ OngoingSupplyList.jsx
â”‚   â”‚   â”‚   â””â”€â”€ OngoingDetail.jsx
â”‚   â”‚   â”œâ”€â”€ orders/
â”‚   â”‚   â”‚   â”œâ”€â”€ orderSlice.js
â”‚   â”‚   â”‚   â”œâ”€â”€ OrderList.jsx
â”‚   â”‚   â”‚   â””â”€â”€ OrderDetail.jsx
â”‚   â”‚   â”œâ”€â”€ wallet/
â”‚   â”‚   â”‚   â”œâ”€â”€ walletSlice.js
â”‚   â”‚   â”‚   â””â”€â”€ WalletHistory.jsx
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ Home.jsx
â”‚   â”‚   â”œâ”€â”€ Marketplace.jsx
â”‚   â”‚   â”œâ”€â”€ ProductDetailPage.jsx
â”‚   â”‚   â”œâ”€â”€ OngoingSupplyPage.jsx
â”‚   â”‚   â”œâ”€â”€ BusinessProfilePage.jsx
â”‚   â”‚   â”œâ”€â”€ OrdersPage.jsx
â”‚   â”‚   â”œâ”€â”€ WalletPage.jsx
â”‚   â”‚   â”œâ”€â”€ Admin/
â”‚   â”‚   â”‚   â”œâ”€â”€ AdminDashboard.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ManageUsers.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ManageListings.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ReviewModeration.jsx
â”‚   â”‚   â”‚   â””â”€â”€ AnalyticsPanel.jsx
â”‚   â”œâ”€â”€ services/                      # Firebase functions and API wrappers
â”‚   â”‚   â”œâ”€â”€ firebase.js
â”‚   â”‚   â”œâ”€â”€ firestoreService.js
â”‚   â”‚   â”œâ”€â”€ authService.js
â”‚   â”‚   â””â”€â”€ walletService.js
â”‚   â”œâ”€â”€ styles/
â”‚   â”‚   â”œâ”€â”€ variables.scss
â”‚   â”‚   â””â”€â”€ glass.scss
â”‚   â”œâ”€â”€ App.jsx
â”‚   â””â”€â”€ main.jsx
â”œâ”€â”€ tailwind.config.js
â”œâ”€â”€ vite.config.js
â””â”€â”€ package.json
```

---

### ğŸ” Firebase Backend (Realtime + Serverless)

#### ğŸ§© Services Used

* **Firestore** â€“ real-time database
* **Firebase Authentication** â€“ user roles (admin, supplier, buyer)
* **Firebase Storage** â€“ for product and profile images
* **Cloud Functions** â€“ business logic for marketplace wallet & moderation

---

### ğŸ—‚ï¸ Firestore Database Structure

```plaintext
firestore.root
â”œâ”€â”€ users/{userId}
â”‚   â”œâ”€â”€ role: "buyer" | "supplier" | "admin_super" | "admin_moderator"
â”‚   â”œâ”€â”€ email, name, phone, verified
â”‚   â”œâ”€â”€ businessProfile: { name, location, bio, deliveryRadius, logoURL }
â”‚   â”œâ”€â”€ walletBalance, location
â”‚   â””â”€â”€ createdAt
â”‚
â”œâ”€â”€ products/{productId}
â”‚   â”œâ”€â”€ sellerId, title, category, unit, price, quantity, negotiable
â”‚   â”œâ”€â”€ images: [url1, url2]
â”‚   â”œâ”€â”€ availabilityDate, bulkPricingTiers
â”‚   â””â”€â”€ createdAt
â”‚
â”œâ”€â”€ ongoingSupplies/{supplyId}
â”‚   â”œâ”€â”€ sellerId, title, productType, totalQuantity, deliveryFrequency
â”‚   â”œâ”€â”€ durationMonths, pricePerUnit, description, status
â”‚   â”œâ”€â”€ bids: [{ userId, amount, comment, timestamp }]
â”‚   â””â”€â”€ acceptedBidId, createdAt
â”‚
â”œâ”€â”€ orders/{orderId}
â”‚   â”œâ”€â”€ buyerId, sellerId, productId OR supplyId
â”‚   â”œâ”€â”€ quantity, totalPrice, paymentStatus
â”‚   â”œâ”€â”€ status: "Pending" | "Accepted" | "Dispatched" | "Delivered" | "Cancelled"
â”‚   â”œâ”€â”€ deliveryMilestones: [
â”‚   â”‚     { date, quantity, status, note }
â”‚   â”‚   ]
â”‚   â””â”€â”€ timestamp
â”‚
â”œâ”€â”€ transactions/{txnId}
â”‚   â”œâ”€â”€ from: userId, to: "market_wallet"
â”‚   â”œâ”€â”€ type: "deposit" | "refund" | "payout"
â”‚   â”œâ”€â”€ orderId, amount, timestamp, status
â”‚
â”œâ”€â”€ reviews/{reviewId}
â”‚   â”œâ”€â”€ reviewerId, targetId (user/product), rating, comment
â”‚   â””â”€â”€ timestamp
```

---

### ğŸ” Firebase Auth Rules Summary

* Authenticated access only
* Role-based access via `users/{userId}.role`
* Location-based filtering for region-specific discovery
* Example rule for suppliers:

```js
match /products/{productId} {
  allow read: if true;
  allow write: if request.auth != null &&
    get(/databases/$(default)/documents/users/$(request.auth.uid)).data.role == "supplier";
}
```

---

### âš™ï¸ Firebase Wallet & Admin Roles

* **Marketplace Wallet** holds buyer payments until delivery is confirmed
* Admins have two types:

  * `admin_super`: full access to all users, payouts, analytics
  * `admin_moderator`: can approve listings, resolve reviews, handle reports

**Cloud Functions:**

* On order â†’ funds moved to `market_wallet`
* On delivery confirmation â†’ release to seller wallet
* On dispute â†’ send refund or flag for admin
* On payout request â†’ verify and process to seller account

---

Would you like to add mock data templates, Firestore rules files, or backend logic next?
